!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react/jsx-runtime"),require("react")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactVirtualizedList={},e.jsxRuntime,e.react)}(this,(function(e,t,r){"use strict";const n=(e,t,n,s={})=>{const l={root:null,rootMargin:"0px",threshold:.1},a=r.useRef(null),u=r.useRef(new Map),i=r.useMemo((()=>Object.assign(Object.assign({},l),s)),[s]),c=r.useCallback(null!=t?t:()=>{},[t]),o=r.useCallback(null!=n?n:()=>{},[n]);r.useEffect((()=>(a.current&&a.current.disconnect(),a.current=new IntersectionObserver((e=>{e.forEach((e=>{o(e);const t=u.current.get(e.target),r=e.isIntersecting;t!==r&&(u.current.set(e.target,r),c(r,e))}))}),i),e&&e.forEach((e=>{var t;e&&(null===(t=a.current)||void 0===t||t.observe(e))})),()=>{a.current&&a.current.disconnect()})),[e,i,c,o,u]);return{observe:r.useCallback((e=>{a.current&&e&&a.current.observe(e)}),[]),unobserve:r.useCallback((e=>{a.current&&e&&a.current.unobserve(e)}),[])}},s=({item:e,isVisible:n,refreshOnVisible:s,fetchItemData:l,children:a,itemLoader:u})=>{const[i,c]=r.useState(null),o=r.useRef(!1);return r.useEffect((()=>{l&&n&&(s||!o.current)&&l(e).then((e=>{c(e),o.current=!0}))}),[n,s,l,e]),t.jsx(t.Fragment,{children:n?a(e,i):u})};e.default=({listData:e=[],renderItem:l=(e=>t.jsx(t.Fragment,{children:e||"Loading data..."})),refreshOnVisible:a=!1,fetchItemData:u=null,containerHeight:i="400px",itemStyle:c={},listClassName:o=null,itemClassName:d=null,observerOptions:h={root:null,rootMargin:"0px",threshold:.1},onLoadMore:f=(()=>Promise.resolve()),hasMore:b=!1,loader:g="",endMessage:m="",itemLoader:v="",emptyListMessage:x=null})=>{const[j,p]=r.useState(new Set),[M,O]=r.useState(!1),y=r.useRef([]),C=r.useRef(null),I=r.useCallback(((e,t)=>{const r=parseInt(t.target.getAttribute("data-index"),10);p((t=>{const n=new Set(t);return e?n.add(r):n.delete(r),n}))}),[]),k=r.useCallback((e=>{e&&b&&!M&&(O(!0),f().finally((()=>{O(!1)})))}),[b,f,M]),{observe:L,unobserve:R}=n(y.current,I,null,h);n([C.current],k,null,{root:null,rootMargin:"0px",threshold:1});const E=r.useMemo((()=>{const t=[...j].sort(((e,t)=>e-t)),r=t[0]||0,n=t[t.length-1]||0;return[Math.max(0,r-2),Math.min(e.length-1,n+2)]}),[j,e.length]);r.useEffect((()=>{y.current.forEach(((e,t)=>{e&&(t<E[0]||t>E[1])&&(R(e),y.current[t]=null)}))}),[E,R]);const S=r.useCallback(((e,t)=>{e?(y.current[t]=e,L(e)):y.current[t]&&(R(y.current[t]),y.current[t]=null)}),[L,R]),V=r.useMemo((()=>Object.assign({},c)),[c]);return t.jsxs("div",Object.assign({className:o||void 0,style:{height:i,overflowY:"auto"}},{children:[e.length?e.map(((r,n)=>n>=E[0]&&n<=E[1]?t.jsx("div",Object.assign({className:d||void 0,style:V,ref:e=>S(e,n),"data-index":n},{children:t.jsx(s,Object.assign({item:e[n],isVisible:j.has(n),refreshOnVisible:a,fetchItemData:u,itemLoader:v},{children:l}))}),n):null)):x||null,e.length?b?t.jsx("div",Object.assign({ref:C,style:{height:"1px"}},{children:g})):t.jsx("div",{children:m}):null]}))},e.useIntersectionObserver=n,Object.defineProperty(e,"__esModule",{value:!0})}));
